---
title: Thinking Process
description: Multi-stage thinking process component for displaying AI thinking steps with status and time
author: AF
---

<ComponentPreview name="thinking-process-demo" description="Thinking process with different states" className="mb-4" />

Thinking Process 组件是一个可折叠的思考块，用于展示 **单个思考过程** 的状态和内容，适用于 AI 对话、数据分析、任务处理等场景。

## Features

- **多状态支持**：pending（待处理）、thinking（思考中）、completed（已完成）、cancelled（已取消）四种状态
- **智能时间显示**：思考中不显示时间，仅在完成后显示耗时，避免干扰
- **可折叠交互**：每个步骤都可以独立展开或收起，查看详细内容
- **原语化设计**：提供完整的原语组件，支持高度自定义
- **动画效果**：提示信息固定带有平滑的脉冲动画（animate-pulse）
- **灵活内容显示**：支持带边框的正式内容和无边框的提示信息
- **视觉差异化**：不同状态有明确的视觉区分，hover 时高亮显示
- **样式隔离**：组件样式不受外部框架影响

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>

<TabsContent value="cli">

```bash
npx shadcn@latest add http://localhost:3000/r/wuhan/thinking-process-01.json
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="thinking-process-demo" title="registry/wuhan/examples/recruitment/thinking-process/thinking-process-demo.tsx" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Examples

### Default

基础用法，展示已完成状态。

<ComponentPreview
  name="thinking-process-default"
  description="Default completed state with duration"
  className="mb-4"
/>

### With Hint

对比无内容时（使用 Hint）和有内容时（使用 Content）的展示方式。

<ComponentPreview
  name="thinking-process-with-hint"
  description="Hint (no content) vs Content (with output)"
  className="mb-4"
/>

### Custom

使用原语自定义图标，并在 Content 中渲染多步骤列表。

<ComponentPreview
  name="thinking-process-custom"
  description="Custom icon and multi-step list in content"
  className="mb-4"
/>

## Usage

### 基础用法

```tsx
import { ThinkingStep } from "@/registry/wuhan/blocks/thinking-process/thinking-process-01";

// 已完成状态 - 显示时间
<ThinkingStep
  status="completed"
  title="思考完成"
  duration={14}
  content="分析完成，已生成详细方案。"
  defaultOpen
/>

// 思考中状态 - 不显示时间，标题闪烁
<ThinkingStep
  status="thinking"
  title="思考中..."
  content="正在分析问题..."
  defaultOpen
/>
```

### 在 Content 中渲染多步骤

如需展示多个子步骤，在 `content` 中自行渲染：

```tsx
<ThinkingStep
  status="completed"
  title="分析完成"
  duration={30}
  content={
    <div className="space-y-2">
      <div>✓ 步骤 1: 解析数据 (5s)</div>
      <div>✓ 步骤 2: 分析匹配度 (12s)</div>
      <div>✓ 步骤 3: 生成报告 (13s)</div>
    </div>
  }
/>
```

### 无内容输出时的提示

当思考中但未有内容输出时，使用 `ThinkingStepHintPrimitive` 替代 `ThinkingStepContentPrimitive`：

```tsx
import {
  ThinkingStepPrimitive,
  ThinkingStepHeaderPrimitive,
  ThinkingStepHintPrimitive,
  ThinkingStatusLabelPrimitive,
} from "@/registry/wuhan/blocks/thinking-process/thinking-process-01";

<ThinkingStepPrimitive status="thinking" defaultOpen>
  <ThinkingStepHeaderPrimitive>
    <ThinkingStatusLabelPrimitive status="thinking">
      思考中...
    </ThinkingStatusLabelPrimitive>
  </ThinkingStepHeaderPrimitive>
  {/* 使用 Hint - 无边框无内边距 */}
  <ThinkingStepHintPrimitive>
    处理将需要几分钟，即使您离开页面也会继续进行
  </ThinkingStepHintPrimitive>
</ThinkingStepPrimitive>
```

## 状态说明

| 状态 | 时间显示 | 标题效果 | 典型标题 | 使用场景 |
|------|---------|---------|---------|---------|
| `pending` | ❌ | 普通文本 | "等待处理" | 任务还未开始 |
| `thinking` | ❌ | **闪烁动画** | "思考中..." | 任务正在执行 |
| `completed` | ✅ | 普通文本 | "思考完成 14s" | **仅此状态显示时间** |
| `cancelled` | ❌ | 普通文本 | "已取消" | 任务被中断 |

## API

### ThinkingStep

高级业务组件，封装了常用功能。

| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `status` | `'pending' \| 'thinking' \| 'completed' \| 'cancelled'` | `'pending'` | 步骤状态 |
| `title` | `React.ReactNode` | - | 步骤标题（必填） |
| `content` | `React.ReactNode` | - | 步骤内容 |
| `duration` | `number` | - | 耗时（秒） |
| `icon` | `React.ReactNode` | - | 自定义图标 |
| `arrowIcon` | `React.ReactNode` | - | 自定义箭头图标 |
| `defaultOpen` | `boolean` | `false` | 是否默认展开 |
| `open` | `boolean` | - | 控制展开状态（受控） |
| `onOpenChange` | `(open: boolean) => void` | - | 展开状态变化回调 |

### 原语组件

#### ThinkingProcessContainerPrimitive
已废弃，不推荐使用。此组件用于展示单个思考块，不需要容器。

#### ThinkingStepPrimitive
单个步骤的容器原语，支持 Collapsible 功能。

#### ThinkingStepHeaderPrimitive
步骤头部原语，可点击展开/收起，支持左右两侧内容布局。

#### ThinkingStepContentPrimitive
步骤内容区域原语，带有左侧竖线装饰。

#### ThinkingStatusLabelPrimitive
状态标签原语，根据状态显示不同颜色（灰色/渐变/黑色）。

#### ThinkingTimeLabelPrimitive
时间标签原语，用于显示步骤耗时。

#### ThinkingIconContainerPrimitive
图标容器原语，根据状态显示不同颜色。

#### ThinkingLoadingDotsPrimitive
加载动画点原语，显示三个带脉冲动画的圆点。

#### ThinkingPersistHintPrimitive
持久化提示组件原语，用于在容器外部显示全局提示信息。

#### ThinkingStepHintPrimitive
步骤提示原语，用于在 header 下方显示提示信息（无边框无内边距），当思考步骤未有内容输出时使用，替代 `ThinkingStepContentPrimitive`。

#### ThinkingCollapseArrowPrimitive
折叠箭头原语，展开时自动旋转 180 度。

## Primitives 用法

如果需要完全自定义样式和行为，可以使用原语组件：

```tsx
import {
  ThinkingStepPrimitive,
  ThinkingStepHeaderPrimitive,
  ThinkingStepContentPrimitive,
  ThinkingStatusLabelPrimitive,
  ThinkingIconContainerPrimitive,
  ThinkingTimeLabelPrimitive,
  ThinkingCollapseArrowPrimitive,
} from "@/registry/wuhan/blocks/thinking-process/thinking-process-01";
import { ChevronDown, Sparkles } from "lucide-react";

<ThinkingStepPrimitive status="thinking" defaultOpen>
  <ThinkingStepHeaderPrimitive
    trailing={
      <>
        <ThinkingTimeLabelPrimitive>14s</ThinkingTimeLabelPrimitive>
        <ThinkingCollapseArrowPrimitive>
          <ChevronDown className="size-4" />
        </ThinkingCollapseArrowPrimitive>
      </>
    }
  >
    <ThinkingIconContainerPrimitive status="thinking">
      <Sparkles className="size-4" />
    </ThinkingIconContainerPrimitive>
    <ThinkingStatusLabelPrimitive status="thinking">
      自定义标题
    </ThinkingStatusLabelPrimitive>
  </ThinkingStepHeaderPrimitive>
  <ThinkingStepContentPrimitive>
    自定义内容，可以包含任何 React 元素
  </ThinkingStepContentPrimitive>
</ThinkingStepPrimitive>
```

## 样式定制

组件使用 CSS 变量，可以通过覆盖变量来定制样式：

- `--bg-layout`: 步骤背景色
- `--bg-brand`: 品牌色（用于加载动画）
- `--bg-neutral-light`: 浅色背景（hover 状态）
- `--text-primary`: 主文本色
- `--text-secondary`: 次要文本色
- `--text-tertiary`: 三级文本色
- `--text-brand`: 品牌色文本（思考中状态）
- `--text-success`: 成功状态色（已完成状态）
- `--gap-xs/sm/md/lg`: 间距变量
- `--radius-lg`: 圆角大小
- `--divider-neutral-basic`: 分割线颜色

## 使用场景

- **AI 对话系统**：展示单次对话中 AI 的思考过程
- **数据分析**：展示一次分析任务的执行状态和结果
- **异步任务**：展示后台任务的处理状态（处理中/完成/取消）
- **表单提交**：展示表单验证和提交的过程
- **文件处理**：展示文件上传、解析等处理流程

注意：如需展示多个步骤，应在 `content` 中自行渲染子步骤列表，而不是使用多个 `ThinkingStep` 组件。
