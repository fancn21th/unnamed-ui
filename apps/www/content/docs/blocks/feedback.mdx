---
title: Feedback
description: Composed feedback form for reporting issues and collecting feedback
author: AF
---

<ComponentPreview name="feedback-demo" description="Feedback component with options, input field, and submit button" className="mb-4" />

Feedback åé¦ˆè¡¨å•ç»„ä»¶ç”¨äºæ”¶é›†ç”¨æˆ·åé¦ˆï¼Œæ”¯æŒå¤šé€‰é¡¹æŒ‰é’®ã€è¯¦ç»†æè¿°è¾“å…¥å’Œè¡¨å•æäº¤ï¼Œé€‚ç”¨äºå†…å®¹ä¸¾æŠ¥ã€é—®é¢˜åé¦ˆã€æ»¡æ„åº¦è°ƒæŸ¥ç­‰åœºæ™¯ã€‚

## Overview

- **åé¦ˆé€‰é¡¹**ï¼šæ”¯æŒå¤šä¸ªåé¦ˆç±»å‹é€‰é¡¹ï¼Œç”¨æˆ·å¯å¿«é€Ÿé€‰æ‹©é—®é¢˜ç±»å‹
- **è¯¦ç»†æè¿°**ï¼šæä¾›è¾“å…¥æ¡†æ”¶é›†è¯¦ç»†çš„åé¦ˆä¿¡æ¯
- **è¡¨å•æäº¤**ï¼šå†…ç½®æäº¤æŒ‰é’®å’Œè¡¨å•å¤„ç†é€»è¾‘
- **å—æ§/éå—æ§**ï¼šæ”¯æŒå—æ§å’Œéå—æ§ä¸¤ç§ä½¿ç”¨æ¨¡å¼
- **å¯å…³é—­**ï¼šæä¾›å…³é—­æŒ‰é’®ï¼Œæ–¹ä¾¿ç”¨æˆ·é€€å‡ºåé¦ˆç•Œé¢
- **çµæ´»å®šåˆ¶**ï¼šå¯è‡ªå®šä¹‰æ ‡é¢˜ã€é€‰é¡¹ã€å ä½ç¬¦å’Œæäº¤æŒ‰é’®æ–‡æœ¬

## Quick Start

```tsx
import { FeedbackComposed } from "@/registry/wuhan/composed/feedback/feedback";

export function Example() {
  return (
    <FeedbackComposed
      title="æœ‰ä»€ä¹ˆé—®é¢˜?"
      options={[
        { id: "harmful", label: "æœ‰å®³/ä¸å®‰å…¨" },
        { id: "false", label: "ä¿¡æ¯è™šå‡" },
        { id: "inappropriate", label: "å†…å®¹ä¸å½“" },
        { id: "other", label: "å…¶ä»–" },
      ]}
      onSubmit={(data) => {
        console.log("åé¦ˆæ•°æ®:", data);
      }}
    />
  );
}
```

## Features

- **å¤šç§åé¦ˆç±»å‹**ï¼šé€šè¿‡é€‰é¡¹æŒ‰é’®å¿«é€Ÿåˆ†ç±»é—®é¢˜
- **è¯¦ç»†ä¿¡æ¯æ”¶é›†**ï¼šè¾“å…¥æ¡†æ”¯æŒç”¨æˆ·è¡¥å……è¯¦ç»†æè¿°
- **åŒæ¨¡å¼æ”¯æŒ**ï¼šå—æ§æ¨¡å¼ç”¨äºå¤æ‚è¡¨å•ï¼Œéå—æ§æ¨¡å¼ç”¨äºç®€å•åœºæ™¯
- **è¡¨å•éªŒè¯**ï¼šå†…ç½®è¡¨å•æäº¤å¤„ç†ï¼Œå¯æ‰©å±•éªŒè¯é€»è¾‘
- **æ— éšœç¢æ”¯æŒ**ï¼šåŒ…å«é€‚å½“çš„ ARIA æ ‡ç­¾
- **å“åº”å¼è®¾è®¡**ï¼šè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>

<TabsContent value="cli">

```bash
npx shadcn@latest add http://localhost:3000/r/wuhan/feedback.json
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°ä½ çš„é¡¹ç›®</Step>

<ComponentSource name="feedback" />

<Step>æ›´æ–°å¯¼å…¥è·¯å¾„ä»¥åŒ¹é…ä½ çš„é¡¹ç›®è®¾ç½®</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Examples

### Default

åŸºç¡€çš„åé¦ˆç»„ä»¶ç¤ºä¾‹ï¼ŒåŒ…å«å®Œæ•´çš„åé¦ˆæµç¨‹ã€‚

<ComponentPreview
  name="feedback-demo"
  description="Complete feedback component example"
  className="mb-4"
/>

### Controlled Mode

ä½¿ç”¨å—æ§æ¨¡å¼ç®¡ç†åé¦ˆçŠ¶æ€ï¼Œé€‚åˆéœ€è¦å¤–éƒ¨çŠ¶æ€ç®¡ç†çš„åœºæ™¯ã€‚

<ComponentPreview
  name="feedback-controlled"
  description="Controlled feedback with external state"
  className="mb-4"
/>

### Custom Options

è‡ªå®šä¹‰åé¦ˆé€‰é¡¹ï¼Œæ”¯æŒä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€‚

<ComponentPreview
  name="feedback-custom-options"
  description="Feedback with custom option labels"
  className="mb-4"
/>

### Report Content

å†…å®¹ä¸¾æŠ¥åœºæ™¯ï¼ŒåŒ…å«å¸¸è§çš„ä¸¾æŠ¥ç†ç”±é€‰é¡¹ã€‚

<ComponentPreview
  name="feedback-report"
  description="Content report feedback form"
  className="mb-4"
/>

## API Reference

### FeedbackComposed

åé¦ˆè¡¨å•ä¸»ç»„ä»¶ï¼Œæä¾›å®Œæ•´çš„åé¦ˆæ”¶é›†ç•Œé¢ã€‚

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `title` | `ReactNode` | `"æœ‰ä»€ä¹ˆé—®é¢˜?"` | åé¦ˆè¡¨å•æ ‡é¢˜ |
| `options` | `FeedbackOption[]` | - | åé¦ˆé€‰é¡¹åˆ—è¡¨ï¼ˆå¿…å¡«ï¼‰ |
| `selectedId` | `string` | - | å—æ§æ¨¡å¼ï¼šå½“å‰é€‰ä¸­çš„é€‰é¡¹ ID |
| `defaultSelectedId` | `string` | `""` | éå—æ§æ¨¡å¼ï¼šé»˜è®¤é€‰ä¸­çš„é€‰é¡¹ ID |
| `onSelect` | `(id: string) => void` | - | é€‰é¡¹é€‰æ‹©å˜åŒ–æ—¶çš„å›è°ƒ |
| `inputValue` | `string` | - | å—æ§æ¨¡å¼ï¼šè¾“å…¥æ¡†çš„å½“å‰å€¼ |
| `defaultInputValue` | `string` | `""` | éå—æ§æ¨¡å¼ï¼šè¾“å…¥æ¡†çš„é»˜è®¤å€¼ |
| `onInputChange` | `(value: string) => void` | - | è¾“å…¥æ¡†å†…å®¹å˜åŒ–æ—¶çš„å›è°ƒ |
| `placeholder` | `string` | `"è¯·è¾“å…¥è¯¦ç»†æè¿°..."` | è¾“å…¥æ¡†å ä½ç¬¦ |
| `submitLabel` | `ReactNode` | `"æäº¤"` | æäº¤æŒ‰é’®æ–‡æœ¬ |
| `onSubmit` | `(payload: { selectedId: string; inputValue: string }) => void` | - | è¡¨å•æäº¤æ—¶çš„å›è°ƒ |
| `onClose` | `() => void` | - | å…³é—­æŒ‰é’®ç‚¹å‡»æ—¶çš„å›è°ƒ |

#### Example

```tsx
import { FeedbackComposed } from "@/registry/wuhan/composed/feedback/feedback";
import { useState } from "react";

function FeedbackExample() {
  const [selectedId, setSelectedId] = useState("");
  const [inputValue, setInputValue] = useState("");

  return (
    <FeedbackComposed
      title="åé¦ˆé—®é¢˜"
      options={[
        { id: "bug", label: "Bug æŠ¥å‘Š" },
        { id: "feature", label: "åŠŸèƒ½å»ºè®®" },
        { id: "question", label: "ä½¿ç”¨é—®é¢˜" },
      ]}
      // å—æ§æ¨¡å¼
      selectedId={selectedId}
      onSelect={setSelectedId}
      inputValue={inputValue}
      onInputChange={setInputValue}
      // æäº¤å¤„ç†
      onSubmit={(data) => {
        console.log("æäº¤:", data);
        // å‘é€åˆ°æœåŠ¡å™¨...
      }}
      onClose={() => {
        console.log("å…³é—­åé¦ˆ");
      }}
    />
  );
}
```

### FeedbackOption

åé¦ˆé€‰é¡¹ç±»å‹å®šä¹‰ã€‚

```tsx
interface FeedbackOption {
  id: string;          // é€‰é¡¹çš„å”¯ä¸€æ ‡è¯†ç¬¦
  label: ReactNode;    // é€‰é¡¹æ˜¾ç¤ºçš„æ ‡ç­¾
}
```

## ä½¿ç”¨åœºæ™¯

- **å†…å®¹ä¸¾æŠ¥**ï¼šç”¨æˆ·ä¸¾æŠ¥ä¸å½“å†…å®¹ã€è™šå‡ä¿¡æ¯ã€æœ‰å®³å†…å®¹ç­‰
- **é—®é¢˜åé¦ˆ**ï¼šæ”¶é›†ç”¨æˆ·é‡åˆ°çš„é—®é¢˜å’Œ Bug æŠ¥å‘Š
- **åŠŸèƒ½å»ºè®®**ï¼šæ”¶é›†ç”¨æˆ·çš„äº§å“æ”¹è¿›å»ºè®®å’Œæ–°åŠŸèƒ½éœ€æ±‚
- **æ»¡æ„åº¦è°ƒæŸ¥**ï¼šæ”¶é›†ç”¨æˆ·å¯¹æœåŠ¡ã€äº§å“çš„æ»¡æ„åº¦åé¦ˆ
- **å®¢æœå’¨è¯¢**ï¼šç”¨æˆ·æäº¤å’¨è¯¢é—®é¢˜çš„è¡¨å•
- **è´¨é‡è¯„ä»·**ï¼šå¯¹å†…å®¹ã€æœåŠ¡è´¨é‡çš„è¯„ä»·å’Œæ„è§æ”¶é›†

## æœ€ä½³å®è·µ

1. **é€‰é¡¹è®¾è®¡**ï¼šåé¦ˆé€‰é¡¹åº”æ¶µç›–å¸¸è§é—®é¢˜ç±»å‹ï¼Œå¹¶æä¾›"å…¶ä»–"é€‰é¡¹
2. **è¾“å…¥å¼•å¯¼**ï¼šä½¿ç”¨æ¸…æ™°çš„å ä½ç¬¦æ–‡æœ¬å¼•å¯¼ç”¨æˆ·è¾“å…¥è¯¦ç»†ä¿¡æ¯
3. **æäº¤åé¦ˆ**ï¼šæäº¤æˆåŠŸåç»™äºˆæ˜ç¡®çš„åé¦ˆæç¤º
4. **æ•°æ®éªŒè¯**ï¼šæäº¤å‰éªŒè¯å¿…å¡«é¡¹ï¼Œç¡®ä¿æ”¶é›†åˆ°æœ‰æ•ˆä¿¡æ¯
5. **éšç§ä¿æŠ¤**ï¼šæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·æ•°æ®ç”¨é€”ï¼Œä¿æŠ¤ç”¨æˆ·éšç§
6. **å“åº”åŠæ—¶**ï¼šæ”¶åˆ°åé¦ˆååŠæ—¶å“åº”ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

## æ³¨æ„äº‹é¡¹

- `options` æ˜¯å¿…å¡«å±æ€§ï¼Œè‡³å°‘éœ€è¦æä¾›ä¸€ä¸ªé€‰é¡¹
- å—æ§æ¨¡å¼ä¸‹éœ€è¦åŒæ—¶æä¾› `selectedId` å’Œ `onSelect`ã€`inputValue` å’Œ `onInputChange`
- éå—æ§æ¨¡å¼ä¸‹å¯ä»¥ä½¿ç”¨ `defaultSelectedId` å’Œ `defaultInputValue` è®¾ç½®åˆå§‹å€¼
- `onSubmit` å›è°ƒä¼šæ¥æ”¶åŒ…å« `selectedId` å’Œ `inputValue` çš„å¯¹è±¡
- è¡¨å•æäº¤ä¼šè‡ªåŠ¨è°ƒç”¨ `preventDefault()`ï¼Œéœ€è¦åœ¨ `onSubmit` ä¸­å¤„ç†å®é™…çš„æäº¤é€»è¾‘

## æ ·å¼å®šåˆ¶

ç»„ä»¶ä½¿ç”¨ Tailwind CSSï¼Œå¯ä»¥é€šè¿‡åŸè¯­ç»„ä»¶è¿›è¡Œå®Œå…¨å®šåˆ¶ï¼š

```tsx
import {
  FeedbackContainerPrimitive,
  FeedbackHeaderPrimitive,
  FeedbackInputPrimitive,
  FeedbackSubmitButtonPrimitive,
} from "@/registry/wuhan/blocks/feedback/feedback-01";

function CustomFeedback() {
  return (
    <FeedbackContainerPrimitive className="bg-gray-50 rounded-lg">
      <FeedbackHeaderPrimitive 
        title="è‡ªå®šä¹‰åé¦ˆ" 
        className="border-b border-gray-200"
      />
      <FeedbackInputPrimitive 
        placeholder="è¾“å…¥æ‚¨çš„åé¦ˆ..." 
        className="border-2 border-blue-200 focus:border-blue-500"
      />
      <FeedbackSubmitButtonPrimitive className="bg-purple-500 hover:bg-purple-600">
        å‘é€åé¦ˆ
      </FeedbackSubmitButtonPrimitive>
    </FeedbackContainerPrimitive>
  );
}
```

## æ‰©å±•ç¤ºä¾‹

### å¸¦éªŒè¯çš„åé¦ˆè¡¨å•

```tsx
import { FeedbackComposed } from "@/registry/wuhan/composed/feedback/feedback";
import { useState } from "react";

function ValidatedFeedback() {
  const [selectedId, setSelectedId] = useState("");
  const [inputValue, setInputValue] = useState("");
  const [error, setError] = useState("");

  const handleSubmit = (data: { selectedId: string; inputValue: string }) => {
    // éªŒè¯
    if (!data.selectedId) {
      setError("è¯·é€‰æ‹©åé¦ˆç±»å‹");
      return;
    }
    if (!data.inputValue.trim()) {
      setError("è¯·è¾“å…¥è¯¦ç»†æè¿°");
      return;
    }
    
    // æäº¤
    console.log("æäº¤åé¦ˆ:", data);
    setError("");
  };

  return (
    <div>
      <FeedbackComposed
        options={[
          { id: "bug", label: "Bug" },
          { id: "feature", label: "åŠŸèƒ½" },
        ]}
        selectedId={selectedId}
        onSelect={setSelectedId}
        inputValue={inputValue}
        onInputChange={setInputValue}
        onSubmit={handleSubmit}
      />
      {error && <p className="text-red-500 text-sm mt-2">{error}</p>}
    </div>
  );
}
```

### å¼‚æ­¥æäº¤çš„åé¦ˆè¡¨å•

```tsx
import { FeedbackComposed } from "@/registry/wuhan/composed/feedback/feedback";
import { useState } from "react";

function AsyncFeedback() {
  const [loading, setLoading] = useState(false);
  const [success, setSuccess] = useState(false);

  const handleSubmit = async (data: { selectedId: string; inputValue: string }) => {
    setLoading(true);
    try {
      await fetch("/api/feedback", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
      });
      setSuccess(true);
    } catch (error) {
      console.error("æäº¤å¤±è´¥:", error);
    } finally {
      setLoading(false);
    }
  };

  if (success) {
    return <div className="text-green-600">æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼</div>;
  }

  return (
    <FeedbackComposed
      options={[
        { id: "good", label: "ğŸ‘ å¾ˆå¥½" },
        { id: "bad", label: "ğŸ‘ ä¸å¥½" },
      ]}
      submitLabel={loading ? "æäº¤ä¸­..." : "æäº¤"}
      onSubmit={handleSubmit}
    />
  );
}
```

## Primitive Components

Feedback ç»„ä»¶åŸºäºä»¥ä¸‹åŸè¯­ç»„ä»¶æ„å»ºï¼Œå¯ç”¨äºéœ€è¦å®Œå…¨è‡ªå®šä¹‰çš„åœºæ™¯ã€‚

### FeedbackContainerPrimitive

åé¦ˆå®¹å™¨ç»„ä»¶ï¼ŒåŒ…å«æ‰€æœ‰åé¦ˆå†…å®¹ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `children` | `ReactNode` | å­å…ƒç´  |
| `onClose` | `() => void` | å…³é—­å›è°ƒ |
| `className` | `string` | è‡ªå®šä¹‰æ ·å¼ç±»å |

### FeedbackHeaderPrimitive

åé¦ˆå¤´éƒ¨ç»„ä»¶ï¼ŒåŒ…å«æ ‡é¢˜å’Œå…³é—­æŒ‰é’®ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `title` | `ReactNode` | æ ‡é¢˜å†…å®¹ |
| `onClose` | `() => void` | å…³é—­å›è°ƒ |
| `className` | `string` | è‡ªå®šä¹‰æ ·å¼ç±»å |

### FeedbackInputContainerPrimitive

è¾“å…¥æ¡†å®¹å™¨ç»„ä»¶ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `children` | `ReactNode` | å­å…ƒç´  |
| `className` | `string` | è‡ªå®šä¹‰æ ·å¼ç±»å |

### FeedbackInputPrimitive

åé¦ˆè¾“å…¥æ¡†ç»„ä»¶ï¼Œå¤ç”¨ sidebar æœç´¢æ¡†æ ·å¼ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `placeholder` | `string` | å ä½ç¬¦æ–‡æœ¬ |
| `value` | `string` | è¾“å…¥æ¡†å€¼ |
| `onChange` | `(e: ChangeEvent) => void` | å˜åŒ–å›è°ƒ |
| `className` | `string` | è‡ªå®šä¹‰æ ·å¼ç±»å |

### FeedbackSubmitButtonPrimitive

æäº¤æŒ‰é’®ç»„ä»¶ï¼Œå“ç‰Œè‰²æ ·å¼ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `children` | `ReactNode` | æŒ‰é’®æ–‡æœ¬ |
| `type` | `"submit" \| "button"` | æŒ‰é’®ç±»å‹ |
| `className` | `string` | è‡ªå®šä¹‰æ ·å¼ç±»å |

### å·²åºŸå¼ƒçš„åŸè¯­

> **æ³¨æ„**ï¼šä»¥ä¸‹ç»„ä»¶å·²åºŸå¼ƒï¼Œå»ºè®®ä½¿ç”¨ `toggle-button` block ä¸­çš„ç»„ä»¶ã€‚

- **FeedbackButtonPrimitive** - å·²åºŸå¼ƒï¼Œè¯·ä½¿ç”¨ `ToggleButtonPrimitive`
- **FeedbackButtonGroupPrimitive** - å·²åºŸå¼ƒï¼Œè¯·ä½¿ç”¨ `ToggleButtonGroupPrimitive`

åŸè¯­ç»„ä»¶å¯ä»¥åœ¨ [registry/wuhan/blocks/feedback/feedback-01.tsx](../../registry/wuhan/blocks/feedback/feedback-01.tsx) ä¸­æ‰¾åˆ°ã€‚